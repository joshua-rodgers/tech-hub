{% extends "base.html" %}

{% block title %}My Account - TechHub Electronics{% endblock %}

{% block content %}
<h1>ğŸ‘¤ My Account</h1>

<p>Welcome back, <b>{{ customer[1] }}</b>!</p>

<hr>

<form method="POST" action="{{ url_for('techhub.update_account') }}">
    <fieldset>
        <legend>Personal Information</legend>

        <label for="full_name">Full Name</label>
        <input type="text" name="full_name" id="full_name" value="{{ customer[4] or '' }}">

        <label for="email">Email Address <span class="required">*</span></label>
        <input type="email" name="email" id="email" value="{{ customer[3] }}" required>

        <label for="address">Street Address</label>
        <input type="text" name="address" id="address" value="{{ customer[5] or '' }}">

        <label for="city">City</label>
        <input type="text" name="city" id="city" value="{{ customer[6] or '' }}">

        <label for="state">State</label>
        <input type="text" name="state" id="state" value="{{ customer[7] or '' }}" maxlength="2" style="width: 60px;">

        <label for="zip_code">ZIP Code</label>
        <input type="text" name="zip_code" id="zip_code" value="{{ customer[8] or '' }}" maxlength="10" style="width: 120px;">
    </fieldset>

    <fieldset>
        <legend>Saved Payment Information</legend>

        <p style="background-color: #FFE; padding: 8px; border: 1px solid #FF6600; font-size: 10px;">
            ğŸ’³ Update your saved payment information for faster checkout!
        </p>

        <label for="credit_card">Credit Card Number</label>
        <input type="text" name="credit_card" id="credit_card" value="{{ customer[9] or '' }}" placeholder="1234-5678-9012-3456" maxlength="19" onkeyup="formatCreditCard(this)">

        <label for="cvv">CVV</label>
        <input type="text" name="cvv" id="cvv" value="{{ customer[10] or '' }}" maxlength="4" style="width: 80px;">

        <label for="expiration">Expiration Date</label>
        <input type="text" name="expiration" id="expiration" value="{{ customer[11] or '' }}" placeholder="MM/YY" maxlength="5" style="width: 100px;">
    </fieldset>

    <div style="text-align: center; margin-top: 15px;">
        <button type="submit" style="padding: 10px 30px; font-size: 12px;">
            âœ“ Update Account
        </button>
    </div>
</form>

<hr>

<div style="text-align: center; padding: 15px; background-color: #E8F4FF; border: 2px solid #0066CC;">
    <h3>Quick Links</h3>
    <a href="{{ url_for('techhub.order_history') }}" class="button" style="text-decoration: none; margin: 5px;">
        ğŸ“¦ View Order History
    </a>
    <a href="{{ url_for('techhub.products') }}" class="button button-secondary" style="text-decoration: none; margin: 5px;">
        ğŸ›ï¸ Continue Shopping
    </a>
</div>

<div style="margin-top: 20px; padding: 10px; background-color: #F9F9F9; border: 1px solid #999; font-size: 10px; color: #666;">
    <p><b>Account Details:</b></p>
    <p>Username: {{ customer[1] }}</p>
    <p>Member Since: {{ customer[12] }}</p>
</div>
{% endblock %}
